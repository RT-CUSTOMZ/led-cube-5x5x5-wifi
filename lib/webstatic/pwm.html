<!DOCTYPE html>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <!-- <script src='spectrum.js'></script>
  <link rel='stylesheet' href='spectrum.css' /> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css">
  <script>
  document.addEventListener("DOMContentLoaded", function() {
    $("#flat").spectrum({
      preferredFormat: "rgb",
      flat: true,
      // showInput: true,
       showInitial: false,
       showButtons: false,
       showPalette: true,
       color: 'black',
       palette: [
        ["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],
        ["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],
        ["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],
        ["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],
        ["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],
        ["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],
        ["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],
        ["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]
        // ['black', 'white', 'blanchedalmond'],
        // ['red', 'Lime', 'blue'],
        // ['yellow', 'Aqua', 'Magenta'],
        // ['rgb(255, 128, 0);', 'hsv 100 70 50', 'lightyellow']
      ],
      move: function(color) {
        var s = document.getElementById("rgb");
        s.textContent = color.toHexString(); // #ff0000

        var xmlHttp = new XMLHttpRequest();

        xmlHttp.open('PUT', host + '/pwm/color', true);

        xmlHttp.send(JSON.stringify(color.toRgb()));

      }
    });
  }, false);
  </script>
  <style>
  .sp-picker-container {
    width: 400px;
  }
  </style>
  <script>
  var host = 'http://192.168.120.132';
  // var host = '';
  // var host = 'http://192.168.4.1';
  </script>

</head>
<body>


<div class='example'>
  <input type='text' id='flat' value="limegreen" />
</div>
<div> RGB: <span id="rgb"></span> </div>

</body>
</html>
